
<header-app></header-app>
<menu-app></menu-app>
<section id="main-content" class=" ">
<section class="wrapper main-wrapper row" style=''>
    <div class='col-xs-12'>
        <div class="page-title">
            <div class="pull-left">
                <h1 class="title">Department</h1><!-- PAGE HEADING TAG - END -->
            </div>
            <div class="pull-right hidden-xs">
                <ol class="breadcrumb">
                    <li>
                        <a routerLink="/home" routerLinkActive="active"><i class="fa fa-home"></i>Home</a>
                    </li>
                    <li>
                        <a (click)="backClicked()">Department</a>
                    </li>
                    <li class="active">
                        <strong>Operation</strong>
                    </li>
                </ol>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
        <!-- MAIN CONTENT AREA STARTS -->
    <div class="col-xs-12">
        <section class="box ">
        <header class="panel_header">
            <h2 class="title pull-left"> Department Module</h2>
            <div class="actions panel_actions pull-right">
                <a class="box_toggle fa fa-chevron-down"></a>
                <a class="box_setting fa fa-cog" data-toggle="modal" href="#section-settings"></a>
                <a class="box_close fa fa-times"></a>
            </div>
        </header>
        <div class="content-body">
        <div class="row">

</div>


<div  *ngIf="action.method == 'View'">
	<label for="departmentName">Select Department</label>
	<select  id="count" [(ngModel)]="count" name="count" (ngModelChange)="onSelectRoute()" departmentId="ngModel">
		<option *ngFor="let department of departments; index as i;" [value]="i">{{department.departmentName}}</option>
	</select>
</div>


<div  *ngIf="action.method == 'Create' || action.submethod == 'Edit'">
		

	<div >
		<label for="departmentName" >Department Name</label>
		<input #routeName type="text" class="form-control"  id="departmentName"  name="departmentName" [(ngModel)]="department.departmentName" #departmentName="ngModel">
	</div>
	<label for="departmentHead" >Department Head Name</label>
	<input #departmentHead type="text"  class="form-control"  id="departmentHead"  name="departmentHead" [(ngModel)]="formModel.departmentHead" #departmentHead="ngModel">
	
	<label for="subjectName" >Subject Name</label>
	<input #subjectName type="text"  class="form-control"  id="subjectName"  name="subjectName" [(ngModel)]="formModel.subjectName" #subjectName="ngModel">
	
	
	<label for="subSubjectName" >Sub-Subject Name  </label>
	<input #subSubjectName type="text"  class="form-control"  id="subSubjectName" name="subSubjectName" [(ngModel)]="formModel.subSubjectName" #subSubjectName="ngModel">
	
	

	<button (click)="addSubject(subjectName.value, subSubjectName.value)" *ngIf = "action.submethod != 'Edit'">Add Subject</button>
	<button (click)="editSubject(subjectName.value, subSubjectName.value)" *ngIf = "action.submethod == 'Edit'">Edit Subject</button>
</div>

	<br><br>

<div  *ngIf="count > 1 || action.method == 'View'">
	<table class="table table-bordered">
		
			<tr><td style="text-align: left;"> Department Name : {{department.departmentName}} </td></tr>
	</table>
	<table class="table table-bordered">
			<tr>
			
				<td style="text-align: Center;">S. No.</td>
				<td style="text-align: Center;">Subject Name</td>
				<td style="text-align: Center;">Sub Subject Name</td>
				<td style="text-align: Center;">is Subject Active?</td>
				<td style="text-align: Center;">Action</td>
			</tr>
		
		<tr *ngFor="let departmentp of departmentParticulars; let i = index">
			<td style="text-align: Center;">{{i+1}}</td>
			<td style="text-align: Center;">{{departmentp.subjectName}}</td>
			<td style="text-align: Center;">{{departmentp.subSubjectName}}</td>
			<td style="text-align: Center;">{{departmentp.obsolete}}</td>
			<td style="text-align: Center;"><button (click)="actionEdit(i+1,departmentp.subjectName,departmentp.subSubjectName)">Edit</button></td>
		</tr>
		
	  </table>

	  <form (ngSubmit)="onSubmit()" #userForm="ngForm">
			<button type="submit" class="btn btn-success" >Commit Data</button>		
	  </form>
	  
		</div>
        </div>
        </section>
    </div>
</section>
</section>