
<header-app></header-app>
<menu-app></menu-app>
<section id="main-content" class=" ">
<section class="wrapper main-wrapper row" style=''>
    <div class='col-xs-12'>
        <div class="page-title">
            <div class="pull-left">
                <h1 class="title">Fine</h1><!-- PAGE HEADING TAG - END -->
            </div>
            <div class="pull-right hidden-xs">
                <ol class="breadcrumb">
                    <li>
                        <a routerLink="/home" routerLinkActive="active"><i class="fa fa-home"></i>Home</a>
                    </li>
                    <li>
                        <a (click)="backClicked()">Finance</a>
                    </li>
                    <li class="active">
                        <strong>Create Fine</strong>
                    </li>
                </ol>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
        <!-- MAIN CONTENT AREA STARTS -->
    <div class="col-xs-12">
        <section class="box ">
        <header class="panel_header">
            <h2 class="title pull-left"> Transport Module</h2>
            <div class="actions panel_actions pull-right">
                <a class="box_toggle fa fa-chevron-down"></a>
                <a class="box_setting fa fa-cog" data-toggle="modal" href="#section-settings"></a>
                <a class="box_close fa fa-times"></a>
            </div>
        </header>
        <div class="content-body">
        <div class="row">

<form (ngSubmit)="onSubmitGet()" #userForm="ngForm">
		
		<br>
		
		<input name="action" [(ngModel)]="action.method" (click)=getRoutes() type="radio" value="View" /> View
		<input name="action" [(ngModel)]="action.method" type="radio" value="Create" /> Create
		
	</form>
</div>


<div class="container" *ngIf="action.method == 'View'">
	<label for="routeName">Select Route</label>
	<select class="form-control" id="count" [(ngModel)]="count" name="count" (ngModelChange)="onSelectRoute()" routeId="ngModel">
		<option *ngFor="let transport of transports; index as i;" [value]="i">{{transport.routeName}}</option>
	</select>
</div>


<div  *ngIf="action.method == 'Create' || action.submethod == 'Edit'">
		

	<div >
		<label for="routeName" >Route Name</label>
		<input #routeName type="text" class="form-control"  id="routeName"  name="routeName" [(ngModel)]="transport.routeName" #routeName="ngModel">
	</div>
	<label for="stopName" >Stop Name</label>
	<input #stopName type="text" size=20 class="form-control"  id="stopName"  name="stopName" [(ngModel)]="formModel.stopName" #stopName="ngModel">
	

	
	<label for="stopCost" >Please enter Fee for this Transport route... </label>
	<input #stopCost type="text" size=20 class="form-control"  id="stopCost" name="stopCost" [(ngModel)]="formModel.stopCost" #stopCost="ngModel">
	
	

	<button (click)="addRoute(stopName.value, stopCost.value)" *ngIf = "action.submethod != 'Edit'">Add Stop</button>
	<button (click)="editRoute(stopName.value, stopCost.value)" *ngIf = "action.submethod == 'Edit'">Edit Stop</button>
</div>

	<br><br>

<div  *ngIf="count > 1 || action.method == 'View'">
	<table>
		<b>
			<tr><td>Route Name : {{transport.routeName}} </td></tr>
			<tr>
			
				<td>S. No.</td>
				<td>Stop Name</td>
				<td>Cost for this Stop</td>
				<td>is Stop Active?</td>
			</tr>
		</b>
		<tr *ngFor="let route of routes">
			<td>{{route.stopNumber}}</td>
			<td>{{route.stopName}}</td>
			<td>{{route.stopCost}}</td>
			<td>{{route.obsolete}}</td>
			<td><button (click)="actionEdit(route.stopNumber,route.stopName,route.stopCost)">Edit</button></td>
		</tr>
		
	  </table>

	  <form (ngSubmit)="onSubmit()" #userForm="ngForm">
			<button type="submit" class="btn btn-success" >Commit Route</button>		
	  </form>
	  
		</div>
        </div>
        </section>
    </div>
</section>
</section>