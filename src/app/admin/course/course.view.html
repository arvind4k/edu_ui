
<header-app></header-app>
<menu-app></menu-app>
<section id="main-content" class=" ">
<section class="wrapper main-wrapper row" style=''>
    <div class='col-xs-12'>
        <div class="page-title">
            <div class="pull-left">
                <h1 class="title">Courses</h1><!-- PAGE HEADING TAG - END -->
            </div>
            <div class="pull-right hidden-xs">
                <ol class="breadcrumb">
                    <li>
                        <a routerLink="/home" routerLinkActive="active"><i class="fa fa-home"></i>Home</a>
                    </li>
                    <li>
                        <a (click)="backClicked()">Course</a>
                    </li>
                    <li class="active">
                        <strong>Operation</strong>
                    </li>
                </ol>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
        <!-- MAIN CONTENT AREA STARTS -->
    <div class="col-xs-12">
        <section class="box ">
        <header class="panel_header">
            <h2 class="title pull-left"> Mihir Bhoj Degree College</h2>
            <div class="actions panel_actions pull-right">
                <a class="box_toggle fa fa-chevron-down"></a>
                <a class="box_setting fa fa-cog" data-toggle="modal" href="#section-settings"></a>
                <a class="box_close fa fa-times"></a>
            </div>
        </header>
        <div class="content-body">
        <div class="row">

</div>


<div  *ngIf="action.method == 'View'">
	<label for="courseName">Select Course</label>
	<select  id="count" [(ngModel)]="count" name="count" (ngModelChange)="onSelectCourse()" courseId="ngModel">
		<option *ngFor="let course of courses; index as i;" [value]="i">{{course.courseName}}</option>
	</select>
</div>


<div  *ngIf="action.method == 'Create' || action.submethod == 'Edit'">
		

	<div >
		<label for="courseName" >Course Name</label>
		<input #courseName type="text" class="form-control"  id="courseName"  name="courseName" [(ngModel)]="course.courseName" #courseName="ngModel">
	</div>
	<label for="educationLevel" >Education Level</label>
	<input #educationLevel type="text"  class="form-control"  id="educationLevel"  name="educationLevel" [(ngModel)]="course.educationLevel" #educationLevel="ngModel">
	
	<label for="departmentId" >Department Name</label>
	<!-- <input #departmentId type="text"  class="form-control"  id="departmentId"  name="departmentId" [(ngModel)]="formModel.departmentId" #departmentId="ngModel"> -->
	<select  id="depPos" [(ngModel)]="depPos" name="depPos" (ngModelChange)="onSelectDepartment()" depPos="ngModel">
		<option *ngFor="let departmentf of departments; let i = index" [value]="i">{{departmentf.departmentName}}</option>
	</select>
	
	<label for="subjectId" >Subject Name  </label>
	<!-- <input #subjectId type="text"  class="form-control"  id="subjectId" name="subjectId" [(ngModel)]="formModel.subjectId" #subjectId="ngModel"> -->
	<select  id="subPos" [(ngModel)]="subPos" name="subPos" (ngModelChange)="onSelectSubject()" subPos="ngModel">
		<option *ngFor="let departmentp of departmentParticulars; let i = index" [value]="i">{{departmentp.subjectName + " : " + departmentp.subSubjectName}}</option>
	</select>
	

	<button (click)="addSubject()" *ngIf = "action.submethod != 'Edit'">Add Subject</button>
	<button (click)="editSubject()" *ngIf = "action.submethod == 'Edit'">Edit Subject</button>
</div>

	<br><br>

<div  *ngIf="count > -1 || action.method == 'View'">
	<table class="table table-bordered">
		
			<tr><td style="text-align: left;"> Course Name : {{course.courseName}} </td></tr>
	</table>
	<table class="table table-bordered">
			<tr>
			
				<td style="text-align: Center;">S. No.</td>
				<td style="text-align: Center;">Department Name</td>
				<td style="text-align: Center;">Subject Name</td>
				<td style="text-align: Center;">is Subject Active?</td>
				<td style="text-align: Center;">Action</td>
			</tr>
		
		<tr *ngFor="let formModelv of formModel; let i = index">
			<td style="text-align: Center;">{{i+1}}</td>
			<td style="text-align: Center;">{{formModelv.departmentName}}</td>
			<td style="text-align: Center;">{{formModelv.departmentParticulars[0].subjectName + " : " + formModelv.departmentParticulars[0].subSubjectName}}</td>
			<td style="text-align: Center;">{{formModelv.departmentParticulars[0].obsolete}}</td>
			<td style="text-align: Center;"><button (click)="actionEdit(i+1)">Edit</button></td>
		</tr>
		
	  </table>

	  <form (ngSubmit)="onSubmit()" #userForm="ngForm">
			<button type="submit" class="btn btn-success" >Commit Data</button>		
	  </form>
	  
		</div>
        </div>
        </section>
    </div>
</section>
</section>