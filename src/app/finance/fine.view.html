<header-app></header-app>
<menu-app></menu-app>
<section id="main-content" class=" ">
<section class="wrapper main-wrapper row" style=''>
    <div class='col-xs-12'>
        <div class="page-title">
            <div class="pull-left">
                <h1 class="title">Fine</h1><!-- PAGE HEADING TAG - END -->
            </div>
            <div class="pull-right hidden-xs">
                <ol class="breadcrumb">
                    <li>
                        <a routerLink="/home" routerLinkActive="active"><i class="fa fa-home"></i>Home</a>
                    </li>
                    <li>
                        <a (click)="backClicked()">Finance</a>
                    </li>
                    <li class="active">
                        <strong>Create Fine</strong>
                    </li>
                </ol>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
        <!-- MAIN CONTENT AREA STARTS -->
    <div class="col-xs-12">
        <section class="box ">
        <header class="panel_header">
            <h2 class="title pull-left">Configure Fine</h2>
            <div class="actions panel_actions pull-right">
                <a class="box_toggle fa fa-chevron-down"></a>
                <a class="box_setting fa fa-cog" data-toggle="modal" href="#section-settings"></a>
                <a class="box_close fa fa-times"></a>
            </div>
        </header>
        <div class="content-body">
        <div class="row">
            <form (ngSubmit)="onSubmit()" #fineForm="ngForm">
                <div class="col-xs-12 col-sm-9 col-md-8">
                <div class="form-group">
                    <label class="form-label">Fine</label>
                    <span class="desc"></span>
                    <div class="controls">
                        <select class="form-control" id="fineId" [(ngModel)]="model.fineId" name="fineId" action="ngModel" (change)="getFineById()">
                            <option [value]="0">Create Fine</option>
                            <option *ngFor="let fine of fines" [value]="fine.fineId">{{fine.fineName}}</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label  class="form-label">Fine name</label>
                    <span class="desc"></span>
                    <div class="controls">
                        <input type="text" class="form-control" id="fineName" [(ngModel)]="model.fineName" name="fineName" #fineName="ngModel">
                    </div>
                </div>
                <hr>
                <div *ngFor="let fineSlab of model.fineSlabs, let i=index">
                    <div class="form-group">
                        <label  class="form-label">Days after due date</label>
                        <span class="desc"></span>
                        <div class="controls">
                            <input type="text" pattern="[0-9]+" maxlength="10" class="form-control" id="delayDays{{i}}" [(ngModel)]="model.fineSlabs[i].delayDays" name="delayDays{{i}}">
                        </div>
                    </div>
                    <div class="form-group">
                        <label  class="form-label">Fine Value</label>
                        <span class="desc"></span>
                        <div class="controls">
                            <input type="text" pattern="[0-9]+" maxlength="10" class="form-control" required id="fineValue{{i}}" [(ngModel)]="model.fineSlabs[i].fineValue" name="fineValue{{i}}">
                        </div>
                    </div>
                    <div class="form-group">
                        <label  class="form-label">Mode</label>
                        <span class="desc"></span>
                        <div class="controls">
                            <input class="form-check-input" type="radio" id="fineMode{{i}}" name="fineMode{{i}}" value="Amount" [(ngModel)]="model.fineSlabs[i].fineMode">Amount &nbsp;&nbsp;
                            <input class="form-check-input" type="radio" id="fineMode{{i}}" name="fineMode{{i}}" value="Percentage" [(ngModel)]="model.fineSlabs[i].fineMode">Percentage
                        </div>
                    </div>
                    <hr>
                </div>
                <div class="col-xs-12 col-sm-9 col-md-8 padding-bottom-30">
                <div class="text-left">
                    <button type="button" class="btn btn-primary" (click)="addSlab()">Add more slab</button>
                    <button type="submit" class="btn btn-primary" [disabled]="!fineForm.form.valid">Save</button>
                    <button type="button" class="btn">Cancel</button>
                </div>
                </div>
                </div>
            </form>
            </div>
        </div>
        </section>
    </div>
</section>
</section>